<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ritual Quiz Challenge</title>
<style>
body {
  font-family: 'Segoe UI', sans-serif;
  background: #E6F0E8;
  margin: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}
.container {
  background: white;
  padding: 30px;
  border-radius: 20px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.15);
  width: 100%;
  max-width: 650px;
  text-align: center;
  position: relative;
  overflow: hidden;
}
.fade-in { opacity: 0; animation: fadeIn 1.5s forwards; }
@keyframes fadeIn { to { opacity: 1; } }
.progress-container { height: 10px; width: 100%; background: #dcdcdc; border-radius: 10px; margin-bottom: 20px; }
.progress-bar { height: 100%; width: 0%; background: #0F5132; border-radius: 10px; transition: width 0.4s ease; }
.question { font-size: 1.3em; margin-bottom: 20px; color: #0F5132; transition: opacity 0.5s ease; }
.options button {
  display: block;
  margin: 10px auto;
  padding: 12px 25px;
  border: none;
  border-radius: 10px;
  background: #0F5132;
  color: white;
  font-size: 1em;
  cursor: pointer;
  transition: 0.25s;
}
.options button:hover {
  background: #146C43;
  transform: scale(1.05);
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}
.result {
  font-size: 1.2em;
  margin-top: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
}
.result span.emoji {
  display: inline-block;
  margin-left: 8px;
  transform: scale(0);
  animation: emojiPop 0.5s forwards;
}
@keyframes emojiPop {
  0% { transform: scale(0); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}
.next-btn {
  display: none;
  margin-top: 20px;
  padding: 12px 25px;
  background: #0F5132;
  color: white;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-size: 1em;
  transition: 0.2s;
}
.next-btn:hover { background: #146C43; transform: scale(1.05); }
.intro { font-size: 1.6em; margin-bottom: 20px; color: #0F5132; }
#startBtn {
  display: block;
  margin: 100px auto 0 auto;
  padding: 18px 35px;
  font-size: 1.3em;
  border-radius: 12px;
  cursor: pointer;
  background: #0F5132;
  color: white;
  border: none;
  transition: transform 0.2s ease, background 0.2s ease;
}
#startBtn:hover { transform: scale(1.05); background: #146C43; }
.footer { margin-top: 25px; font-size: 0.9em; }
.footer a { color: #0F5132; text-decoration: none; }
.footer a:hover { text-decoration: underline; }
</style>
</head>
<body>
<div class="container">

  <!-- INTRO -->
  <div id="introPage" class="fade-in">
    <div class="intro">How Ritual-aligned are you?<br>Let's find out!</div>
    <button id="startBtn">Click to Begin Quiz</button>
    <div class="footer">Built by <a href="https://x.com/THE_REAL_BIG4L?t=PYvu1HEe6mb-MVMpn7_3HQ&s=09" target="_blank">@THE_REAL_BIG4L</a></div>
  </div>

  <!-- QUIZ -->
  <div id="quizPage" style="display:none;">
    <div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>
    <div class="question" id="question"></div>
    <div class="options" id="options"></div>
    <div class="result" id="feedback"></div>
    <button id="nextBtn" class="next-btn">Next Question</button>
    <div class="footer">Built by <a href="https://x.com/THE_REAL_BIG4L?t=PYvu1HEe6mb-MVMpn7_3HQ&s=09" target="_blank">@THE_REAL_BIG4L</a></div>
  </div>

  <!-- FINAL -->
  <div id="finalPage" style="display:none;">
    <div class="result" id="finalScore"></div>
    <div class="result" id="finalEmoji" style="font-size: 4em; margin-top: 20px;"></div>
    <button id="restartBtn" class="next-btn">Retake Quiz</button>
    <div class="footer">Built by <a href="https://x.com/THE_REAL_BIG4L?t=PYvu1HEe6mb-MVMpn7_3HQ&s=09" target="_blank">@THE_REAL_BIG4L</a></div>
  </div>

</div>

<script>
// ---------------- QUESTIONS ----------------
const fullQuestionBank = [
  // Example 60+ questions (fill these from Ritual docs)
  {id:"q1", difficulty:"easy", question:"What is the mission of Ritual blockchain?", options:["Scalable payments","Enrich what users can do onâ€‘chain","Private messaging","Social media platform"], answer:"Enrich what users can do onâ€‘chain"},
  {id:"q2", difficulty:"easy", question:"Ritual combines crypto with which technology?", options:["Cloud gaming","Social networks","Artificial Intelligence","Realâ€‘estate"], answer:"Artificial Intelligence"},
  {id:"q3", difficulty:"easy", question:"Which term describes diverse compute types on-chain?", options:["Homogeneous compute","Heterogeneous compute","Basic compute","Legacy compute"], answer:"Heterogeneous compute"},
  {id:"q4", difficulty:"mid", question:"Ritual modular storage is inspired by which system?", options:["AWS","Google Drive","Hugging Face","Dropbox"], answer:"Hugging Face"},
  {id:"q5", difficulty:"mid", question:"What does DePIN stand for in Ritual context?", options:["Decentralized Physical Infrastructure Network","Decentralized Personal Information Node","Distributed Payment Integration Network","Decentralized Protocol Integration Node"], answer:"Decentralized Physical Infrastructure Network"},
  {id:"q6", difficulty:"mid", question:"Which feature allows AI models to run on Ritual nodes?", options:["Node specialization","Centralized compute","Basic storage","Edge hosting"], answer:"Node specialization"},
  {id:"q7", difficulty:"mid", question:"Ritual consensus mechanism is based on?", options:["PoW","PoS","Layered consensus","Multi-chain consensus"], answer:"Layered consensus"},
  {id:"q8", difficulty:"hard", question:"How does Ritual ensure heterogeneous compute security?", options:["Trusted Execution Environments","Public API","Centralized nodes","Open networks"], answer:"Trusted Execution Environments"},
  {id:"q9", difficulty:"hard", question:"Ritual supports which ZK proof system?", options:["Groth16","Plonk","Bulletproofs","SNARKs"], answer:"Plonk"},
  {id:"q10", difficulty:"hard", question:"What is the main benefit of Ritual modular storage?", options:["Fast computation","Redundancy and resilience","Centralized access","Cheap storage"], answer:"Redundancy and resilience"},
  // ... continue adding more questions until 60+
];

// ---------------- QUIZ LOGIC ----------------
let currentRoundQuestions = [];
let currentQuestionIndex = 0;
let score = 0;

// Separate questions by difficulty
const easyQuestions = fullQuestionBank.filter(q => q.difficulty === "easy");
const midQuestions  = fullQuestionBank.filter(q => q.difficulty === "mid");
const hardQuestions = fullQuestionBank.filter(q => q.difficulty === "hard");

// DOM Elements
const introPage = document.getElementById('introPage');
const startBtn = document.getElementById('startBtn');
const quizPage = document.getElementById('quizPage');
const questionEl = document.getElementById('question');
const optionsEl = document.getElementById('options');
const feedbackEl = document.getElementById('feedback');
const nextBtn = document.getElementById('nextBtn');
const finalPage = document.getElementById('finalPage');
const finalScoreEl = document.getElementById('finalScore');
const finalEmojiEl = document.getElementById('finalEmoji');
const restartBtn = document.getElementById('restartBtn');
const progressBar = document.getElementById('progressBar');

// ---------------- EVENT LISTENERS ----------------
startBtn.onclick = () => { introPage.style.display='none'; quizPage.style.display='block'; startRound(); };
restartBtn.onclick = () => { finalPage.style.display='none'; score=0; currentQuestionIndex=0; startRound(); quizPage.style.display='block'; };
nextBtn.onclick = () => { currentQuestionIndex++; updateProgressBar(); if(currentQuestionIndex >= currentRoundQuestions.length){ showFinal(); } else { loadQuestion(); } };

// ---------------- FUNCTIONS ----------------

// Start Round with 3 hard, 5 mid, 2 easy
function startRound() {
  feedbackEl.innerText=''; nextBtn.style.display='none';
  const easyPick = shuffleArray(easyQuestions).slice(0,2);
  const midPick  = shuffleArray(midQuestions).slice(0,5);
  const hardPick = shuffleArray(hardQuestions).slice(0,3);
  currentRoundQuestions = shuffleArray([...easyPick, ...midPick, ...hardPick]);
  currentQuestionIndex = 0;
  updateProgressBar();
  loadQuestion();
}

// Load Question
function loadQuestion() {
  feedbackEl.innerText=''; nextBtn.style.display='none';
  const q = currentRoundQuestions[currentQuestionIndex];
  questionEl.style.opacity=0;
  setTimeout(()=>{ questionEl.innerText = q.question; questionEl.style.opacity=1; }, 200);
  optionsEl.innerHTML='';
  q.options.forEach(opt=>{
    const btn = document.createElement('button');
    btn.innerText = opt;
    btn.onclick = () => checkAnswer(opt);
    optionsEl.appendChild(btn);
  });
}

// Check Answer
function checkAnswer(selected) {
  const q = currentRoundQuestions[currentQuestionIndex];
  feedbackEl.innerHTML='';
  const feedbackText = document.createElement('span');
  feedbackText.innerText = selected === q.answer ? 'Correct!' : `Wrong! Correct: ${q.answer}`;
  feedbackText.style.color = selected === q.answer ? '#146C43' : '#B02A37';

  const emoji = document.createElement('span');
  emoji.classList.add('emoji');
  emoji.innerText = selected === q.answer ? 'ðŸ˜„' : 'ðŸ˜¢';
  feedbackText.appendChild(emoji);
  feedbackEl.appendChild(feedbackText);

  if(selected === q.answer) score++;
  nextBtn.style.display = 'block';
}

// Show Final Score & Emoji
function showFinal() {
  quizPage.style.display='none';
  finalPage.style.display='block';
  const percent = Math.round((score/currentRoundQuestions.length)*100);
  finalScoreEl.innerText = `You scored ${percent}% (${score}/${currentRoundQuestions.length})`;
  finalEmojiEl.innerText = percent >= 70 ? 'ðŸ˜„' : 'ðŸ˜¢';
}

// Shuffle Array Helper
function shuffleArray(array) {
  const arr = [...array];
  for(let i=arr.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

// Progress Bar Update
function updateProgressBar() {
  const progressPercent = Math.round((currentQuestionIndex/currentRoundQuestions.length)*100);
  progressBar.style.width = `${progressPercent}%`;
}
</script>
</body>
</html>
